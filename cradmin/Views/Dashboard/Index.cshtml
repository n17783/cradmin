@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row nomargin" data-ng-app="CRAdminApp" data-ng-controller="EmployeeController">
    <div class="col-md-12">
        <h3>Employee OneTime Registeration Process</h3>
        <div class="col-md-6">
            <div class="box-body">
                <div class="form-group">
                    <label>Aadhar No</label>
                    <input type="text" class="form-control" data-ng-model="Emp.AadharNo" placeholder="Enter Aadhar No ..." data-ng-blur="CheckAdhaarExist();">
                    <span class="badge badge-danger" data-ng-show="ErrorModel.AadharNo">{{ErrorModel.ErrorMessageAdhaarNo}}</span>
                </div>
                <div class="form-group">
                    <label>Aadhar Image</label>
                    <input type="file" class="form-control">
                </div>
                <div class="form-group" data-ng-switch="IsNewUser">
                    <label>Exit Status</label>
                    <span ng-switch-when="0">Existing User</span>
                    <span ng-switch-when="1">New User</span>
                    <span ng-switch-when="2">Re Join</span>
                </div>
                <div class="form-group">
                    <label>Select Zone</label>
                    <select class="form-control" id="ddlZone" data-ng-disabled="IsNewUser!=1"></select>
                    <span class="badge badge-danger" data-ng-show="ErrorModel.DeptZoneId">{{ErrorModel.ErrorMessageDeptZoneId}}</span>
                </div>
                <div class="form-group">
                    <label>Already Validated</label>
                    <input type="checkbox" class="checkbox" id="chkIsAlreadyValidated" />
                </div>
                <div class="form-group">
                    <label>Select Validation Agency</label>
                    <select class="form-control" id="ddlVAgency" data-ng-disabled="IsNewUser!=1"></select>
                    <span class="badge badge-danger" data-ng-show="ErrorModel.ValidationAgencyId">{{ErrorModel.ErrorMessageValidationAgencyId}}</span>
                </div>
                <div class="form-group">
                    <label>Select Trade</label>
                    <select class="form-control" id="ddlTrade" data-ng-disabled="IsNewUser!=1"></select>
                    <span class="badge badge-danger" data-ng-show="ErrorModel.TradeId">{{ErrorModel.ErrorMessageTradeId}}</span>
                </div>
                <div>
                    <div class="form-group">
                        <label>First Name</label>
                        <input type="text" class="form-control" placeholder="Enter First Name ..." data-ng-model="Emp.FName">
                        <span class="badge badge-danger" data-ng-show="ErrorModel.FName">{{ErrorModel.ErrorMessageFName}}</span>
                    </div>
                    <div class="form-group">
                        <label>Middle Name</label>
                        <input type="text" class="form-control" placeholder="Enter Middle Name ..." data-ng-model="Emp.MName">
                        <span class="badge badge-danger" data-ng-show="ErrorModel.MName">{{ErrorModel.ErrorMessageMName}}</span>
                    </div>
                    <div class="form-group">
                        <label>Last Name</label>
                        <input type="text" class="form-control" placeholder="Enter Last Name ..." data-ng-model="Emp.LName">
                        <span class="badge badge-danger" data-ng-show="ErrorModel.LName">{{ErrorModel.ErrorMessageLName}}</span>
                    </div>

                    <div class="form-group">
                        <label>Date Of Reporting</label>
                        <div class='input-group date' id='dtReport'>
                            <input type="text" class="form-control" placeholder="Enter Date Of Reprting ..." data-ng-model="EmpDetails.DateOfReport">
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-time"></span>
                            </span>
                            <span class="badge badge-danger" data-ng-show="ErrorModel.DateOfReport">{{ErrorModel.ErrorMessageDateOfReport}}</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Select Id Proof Type</label>
                        <select class="form-control" id="ddlIdProofType" data-ng-disabled="IsNewUser!=1">
                            <option value="PAN">PAN</option>
                            <option value="DL">Driving Licence</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ID Proof No</label>
                        <input type="text" class="form-control" placeholder="Enter Id Proof No ..." data-ng-model="EmpDetails.IdProofNo">
                    </div>
                    <div class="form-group">
                        <label>Upload Id Proof Document</label>
                        <input type="file" class="form-control" placeholder="Upload Id Proof Document ...">
                    </div>
                    <div class="form-group">
                        <label> Permanant House NO And Name</label>
                        <input type="text" class="form-control" placeholder="Enter Permanant House NO And Name ..." data-ng-model="EmpDetails.PHouseNo">
                    </div>
                    <div class="form-group">
                        <label> Village </label>
                        <input type="text" class="form-control" placeholder="Enter Permanant House NO And Name ..." data-ng-model="EmpDetails.PVillageId">
                        <span class="badge badge-danger" data-ng-show="ErrorModel.PVillageId">{{ErrorModel.ErrorMessagePVillageId}}</span>
                    </div>
                    <div class="form-group">
                        <label>Permanant Taluka</label>
                        <input type="text" class="form-control" placeholder="Enter Permanant House NO And Name ..." data-ng-model="EmpDetails.PTalukaId">
                    </div>
                    <div class="form-group">
                        <label> Country</label>
                        <select id="ddlPCountry" class="form-control" data-ng-click="BindPStateList()"></select>
                        <span class="badge badge-danger" data-ng-show="ErrorModel.PCountryId">{{ErrorModel.ErrorMessagePContryId}}</span>
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <select id="ddlPState" class="form-control" data-ng-click="BindPDistrictList()"></select>
                        <span class="badge badge-danger" data-ng-show="ErrorModel.PStateId">{{ErrorModel.ErrorMessagePStateId}}</span>
                    </div>
                    <div class="form-group">
                        <label> Permanent  District</label>
                        <select class="form-control" id="ddlPDistrict"></select>
                        <span class="badge badge-danger" data-ng-show="ErrorModel.PDisticId">{{ErrorModel.ErrorMessagePDisticId}}</span>
                    </div>
                    <div class="form-group">
                        <label> Permanant Pin Code</label>
                        <input type="text" class="form-control" placeholder="Enter Pin code ..." data-ng-model="EmpDetails.PPincodeId">
                        <span class="badge badge-danger" data-ng-show="ErrorModel.PPincodeId">{{ErrorModel.ErrorMessagePPincodeId}}</span>
                    </div>
                </div>
            </div>

        </div>
        <div class="col-md-6">
            <div class="box-body">
                <div class="col-md-12">
                    <div id="webcam" style="min-height:250px;max-height:250px;"></div>
                    <img id="imgCapture" style="display: none; width: 320px;height: 240px" />
                    <input type="button" class="btn btn-danger" value="Capture" onclick="Capture();" />
                    <button id="uploadAdhaar" class="btn btn-danger" type="button">Upload</button>
                    <input id="AdhaarImage" type="file" style="display:none" />
                </div>
                <div class="form-group">
                    <div class="">
                        <label>
                            <input type="radio" name="optionStaff" id="rdoStaff" value="0">
                            STAFF
                        </label>
                    </div>
                    <div class="">
                        <label>
                            <input type="radio" name="optionStaff" id="rdoDM" value="1">
                            DM
                        </label>
                    </div>

                </div>
                <div class="form-group">
                    <label>Select Employee Type</label>
                    <select class="form-control" id="ddlEmpType" data-ng-disabled="IsNewUser!=1"></select>
                </div>
                <div class="form-group">
                    <label>Select Contractor</label>
                    <select class="form-control" id="ddlContractor" data-ng-disabled="IsNewUser!=1"></select>
                </div>

                <div>
                    <div class="form-group">
                        <div class="">
                            <label>
                                <input type="radio" name="optionGender" id="rdoMale" data-ng-model="Emp.Gender" data-ng-value="1">
                                Male
                            </label>
                        </div>
                        <div class="rado">
                            <label>
                                <input type="radio" name="optionGender" id="rdoFemale" data-ng-value="0" data-ng-model="Emp.Gender">
                                Female
                            </label>
                        </div>

                    </div>
                    <div class="form-group">
                        <label>Date Of Birth</label>
                        <div class='input-group date' id='dtReport'>
                            <input type="text" class="form-control" placeholder="Enter Date Of Birth ..." data-ng-model="Emp.DOB" id="dtBirth">
                            <span class="input-group-addon">
                                <span class="glyphicon glyphicon-time"></span>
                            </span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Select BloodGroup</label>
                        <select class="form-control">
                            <option value="A+">A+</option>
                            <option value="B+">B+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Pan No</label>
                        <input type="text" class="form-control" placeholder="Enter PAN No ..." data-ng-model="Emp.PanNo">
                    </div>
                    <div class="form-group">
                        <label>Email Id</label>
                        <input type="text" class="form-control" placeholder="Enter Email Id ..." data-ng-model="Emp.UserName">
                    </div>
                    <div class="form-group">
                        <label> Country</label>
                        <select id="ddlCountry" class="form-control" data-ng-click="BindStateList()"></select>
                    </div>
                    <div class="form-group">
                        <label>State</label>
                        <select id="ddlState" class="form-control" data-ng-click="BindDistrictList()"></select>
                    </div>
                    <div class="form-group">
                        <label> Temporary  District</label>
                        <select class="form-control" id="ddlDistrict"></select>
                    </div>
                    <div class="form-group">
                        <label> Temporary  House NO And Name</label>
                        <input type="text" class="form-control" placeholder="Enter Permanant House NO And Name ..." data-ng-model="EmpDetails.THouseNo">
                    </div>
                    <div class="form-group">
                        <label> Temporary Village Name  </label>
                        <input type="text" class="form-control" placeholder="Enter Permanant House NO And Name ..." data-ng-model="EmpDetails.TVillageId">
                    </div>
                    <div class="form-group">
                        <label>Temporary  Taluka</label>
                        <input type="text" class="form-control" placeholder="Enter Permanant House NO And Name ..." data-ng-model="EmpDetails.TTalukaId">
                    </div>

                    <div class="form-group">
                        <label> Temporary  Pin Code</label>
                        <input type="text" class="form-control" placeholder="Enter Permanant House NO And Name ..." data-ng-model="EmpDetails.TPincode">
                    </div>
                    <div class="form-group">
                        <label> Contact No</label>
                        <input type="text" class="form-control" placeholder="Enter Permanant House NO And Name ..." data-ng-model="EmpDetails.ContactNo">
                    </div>
                    <div class="form-group">
                        <label>Emergency Contact No</label>
                        <input type="text" class="form-control" placeholder="Enter Emergency Contact No ..." data-ng-model="EmpDetails.EmrContactNo">
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12">
        <div class="col-md-6">
            <div class="box-body">
                <div class="form-group">
                    <button type="button" class="btn btn-danger" data-ng-click="RegisterStaff()">Save</button>
                    <button type="button" class="btn btn-danger">Update</button>
                </div>
            </div>
        </div>
    </div>
</div>
@Scripts.Render("~/Scripts/AdminLayout/EmployeeController.js")
@Scripts.Render("~/Scripts/AdminLayout/jquery.webcam.js")
<script type="text/javascript">
            $(function () {
                jQuery("#webcam").webcam({
                    width: 320,
                    height: 240,
                    mode: "save",
                    swffile: '@Url.Content("~/Scripts/AdminLayout/jscam.swf")',
                    debug: function (type, status) {
                        $('#camStatus').append(type + ": " + status + '<br /><br />');
                    },
                    onSave: function (data, ab) {
                        $.ajax({
                            type: "POST",
                            url: '/Home/GetCapture',
                            data: '',
                            contentType: "application/json; charset=utf-8",
                            dataType: "text",
                            success: function (r) {
                                $("#webcam").hide();
                                $("#imgCapture").show();
                                $("#imgCapture").attr("src", r);
                            },
                            failure: function (response) {
                                alert(response.d);
                            }
                        });
                    },
                    onCapture: function () {
                        webcam.save('@Url.Action("Capture", "Dashboard")');
                    }
                });

                $("#uploadAdhaar").click(function () {
                    files = $("#AdhaarImage").get(0).files;
                    if (files.length == 0) {
                        $("#AdhaarImage").trigger("click");
                    }
                    else {
                        UploadA();
                    }
                })
                $("#AdhaarImage").change(function () {
                    $("#uploadAdhaar").trigger("click");
                });
                $("#dtReport").datepicker({
                    format: "dd-MM-yyyy",
                    autoclose: true,
                    todayHighlight: true
                }).datepicker('update', new Date());

                $("#dtBirth").datepicker({
                    format: "dd-MM-yyyy",
                    autoclose: true,
                    todayHighlight: true
                }).datepicker('update', new Date());
            });
            function Capture() {
                webcam.capture();
            }
</script>
